/// <reference path="theme.scss" />

// RTL support (right to left)
// --------------------------------------------------

[dir=rtl] {
    // Text expander
    // -------------

    .more-less .btn-text-expander {
        direction: rtl; // enforce RTL, even with inline bidi overwrite
        /*justify-content: flex-end;
		> i { order: 1; }*/
    }

    .gal-item.slick-slide {
        // Don't swap direction in gallery. Doesn't synch with thumbs otherwise.
        float: left;
    }
    // Megamenu
    // -------

    .megamenu-dropdown-container.simple {
        .dropdown-menu {
            &.ar {
                transform: translateX(-($grid-gutter-width));
            }
        }
    }
    // Rating
    // -------

    .rating,
    .rating > * {
        background-position-x: 100%;
    }

    .review-title h4 {
        padding-left: 0;
        padding-right: 90px;
    }

    .review-meta {
        .review-meta-value {
            padding-left: 0.5rem;
            padding-right: 0.25rem;
        }
    }


    .blog-page .blogpost .blogpost-info {
        .blogpost-comments .blogpost-comments-count {
            margin-right: 12px;
        }
    }
    // Search
    // ------

    .instasearch-term {
        padding-right: var(--search-padding-start);
        padding-left: var(--search-padding-end);
    }

    .instasearch-addon {
        left: var(--search-addon-pos);
        right: auto;
    }

    .instasearch-icon {
        right: 4px !important;
        left: auto !important;
    }

    .instasearch-drop {
        right: 0;
        left: auto;
    }

    .instasearch-hits {
        padding-right: 0;
    }

    @include media-breakpoint-up(sm) {
        .instasearch-col {
            &:first-child {
                border-left: 1px solid rgba(0,0,0, 0.1);
                border-right: none;
            }
        }
    }

    .instasearch-hit-tag {
        padding-right: 0.2rem;
        padding-left: initial;
    }

    .instasearch-hit-thumb {
        padding-left: 12px;
        padding-right: initial;
    }

    .facet-toggle:after {
        left: 0;
        right: auto;
    }

    .offcanvas .facet-toggle:after {
        left: 1rem;
    }

    .facet-control-ui {
        right: 2px;
        left: auto;
    }

    .facet-radio .facet-control-native + .facet-control-ui:after {
        margin-left: 0;
        margin-right: 3px;
    }

    .facet-label {
        padding-right: $facet-control-size + ($facet-control-size / 1.5);
        padding-left: 8px;
    }

    .facet-body-rating .rating {
        margin-left: 3px;
        margin-right: initial;
    }

    .active-filter-item {
        float: right;
    }

    .active-filter-link {
        padding-left: 1.5rem;
        padding-right: $btn-padding-x-sm;

        &:after {
            left: 0.375rem;
            right: auto;
        }
    }
    // Checkout
    // ------

    .costep {
        &:first-child:after,
        &:last-child:before {
            display: none;
        }

        &:first-child:before,
        &:last-child:after {
            display: block;
        }
    }

    .costep.active {
        &:before {
            background-color: $costep-border;
        }

        &:after {
            background-color: $costep-active-border;
        }
    }
    // Category Menu
    // -------------
    .catmenu-path-item.expanded,
    .catmenu-item.parent {
        &:after {
            content: "\f053"; // chevron-left
        }
    }

    #offcanvas-menu {
        .menubar-link,
        .ocm-item {
            &.has-children:after {
                content: "\f104";
            }
        }

        .layer {
            transform: translateX(30%);

            &.show {
                transform: translateX(0);
            }

            &.show ~ .layer {
                transform: translateX(-100%);
            }
        }
    }

    &.wkit #offcanvas-menu .layer {
        // Workaround for Chrome in RTL mode: https://stackoverflow.com/questions/28928992/offcanvas-menu-not-working-with-direction-rtl
        // Reducing the transition duration from 300ms to 50ms seems to help, at least it is hard notice the glitch.
        // Completely turning off the transition suppresses the transitionEnd event, which we actually need.
        transition-duration: 0.05s;
    }


    .menubar-group {
        margin-right: 1rem;
        margin-left: 0;
    }

    // Product
    // -------

    .pd-attrs td:first-child {
        padding-left: 1rem;
        padding-right: 0;
    }

    .pd-actions .pd-action-item {
        border-left: 1px solid rgba(#000, 0.15);
        border-right-width: 0;

        &:last-child {
            border-left-color: transparent;
        }
    }

    .pd-actions .pd-action-item {
        border-right: 0;
        border-left: 1px solid rgba(#000, 0.15);
    }

    .pd-tag {
        margin-right: 0;
        margin-left: 0.2rem;
    }

    .pd-bundle-summary-item-qty {
        right: 0;
        left: auto;
    }

    .deliverytime-group .delivery-time {
        padding-right: 0.4rem;
        padding-left: 0;
    }

    .delivery-time .delivery-time-status {
        padding-left: 0.2rem;
        padding-right: initial;
        margin-right: 0.025rem;
        margin-left: initial;
    }

    #pd-gallery .gal {
        direction: ltr;
    }

    .drift-zoom-pane img {
        left: 0;
    }

    .btn-edit-product {
        right: initial;
        left: 0;
    }
    // Footer
    // -------

    .footer-social .btn-social {
        margin: 0 0.4rem;
    }
}
